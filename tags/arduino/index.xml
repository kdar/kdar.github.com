<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Arduino on Kevin Darlington</title>
    <link>http://blog.kevindarlington.com/tags/arduino/</link>
    <description>Recent content in Arduino on Kevin Darlington</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; Kevin Darlington, 2015</copyright>
    <lastBuildDate>Tue, 16 Mar 2010 03:22:20 +0000</lastBuildDate>
    <atom:link href="http://blog.kevindarlington.com/tags/arduino/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Simple sanguino clock prototype</title>
      <link>http://blog.kevindarlington.com/2010/03/16/simple-sanguino-clock-prototype/</link>
      <pubDate>Tue, 16 Mar 2010 03:22:20 +0000</pubDate>
      
      <guid>http://blog.kevindarlington.com/2010/03/16/simple-sanguino-clock-prototype/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;ve been wanting to make my own alarm clock for some time now, since I&amp;rsquo;m unsatisfied with any alarm clock on the market (neglecting overpriced ones). I just made a quick prototype to see if I liked it or not.&lt;/p&gt;












&lt;figure &gt;
    &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/03/IMG_0113.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Prototype overhead&#34;&gt;
        &lt;img src=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/03/IMG_0113.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Prototype overhead&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;h4 id=&#34;parts-used:fa30f63c8c946c609a15e647a594b321&#34;&gt;Parts used&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.moderndevice.com/products/sanguino&#34;&gt;Sanguino&lt;/a&gt; from Moderndevice&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.moderndevice.com/products/20x4-blue-lcd&#34;&gt;20x4 LCD&lt;/a&gt; from Moderndevice&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/electronic-brick-real-time-clock-moduleds1307-p-491.html?cPath=48_59&#34;&gt;Electronic brick real time clock module&lt;/a&gt; from Seedstudio&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/electronic-brick-temperature-sensoranalog-p-478.html?cPath=48_52&#34;&gt;Electronic brick temperature sensor&lt;/a&gt; from Seeedstudio&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/electronic-brick-fully-buckled-4-wire-cable-p-486.html?cPath=48_57&#34;&gt;Electronic brick fully buckled 4 wire cable&lt;/a&gt; from Seedstudio&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/electronic-brick-fully-buckled-3-wire-cable-p-485.html?cPath=48_57&#34;&gt;Electronic brick fully buckled 3 wire cable&lt;/a&gt; from Seedstduio&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/1-pin-dualfemale-jumper-wire-100mm-50pcs-pack-p-260.html?cPath=34&#34;&gt;Dual-female jumper wires&lt;/a&gt; from Seedstudio&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1k trimpot for contrast adjustment&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I also used a &lt;a href=&#34;http://www.moderndevice.com/products/usb-bub&#34;&gt;USB BUB Board&lt;/a&gt; from Moderndevice to program the Sanguino. I have to say, I really LOVE these two companies. They have great products at great prices, and their tech support is phenomenal (I&amp;rsquo;ve had to use them both).&lt;/p&gt;

&lt;h4 id=&#34;source-code:fa30f63c8c946c609a15e647a594b321&#34;&gt;Source code&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/03/clock.zip&#34;&gt;clock.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is no alarm code inside the source. I was merely just testing to see if I would like the setup or not.&lt;/p&gt;

&lt;h4 id=&#34;conclusion:fa30f63c8c946c609a15e647a594b321&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;In my real design, I don&amp;rsquo;t think I want to use a 20x4 character LCD as it is very hard to tell the time from a distance. I&amp;rsquo;ll be looking into either a monochrome graphic LCD or a color LCD.&lt;/p&gt;

&lt;p&gt;Feel free to leave a comment if you have any questions.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/electronic-brick-real-time-clock-moduleds1307-p-491.html?cPath=48_59&#34;&gt;Electronic brick- Real Time Clock Module&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Speeding up the Sanguino reset time</title>
      <link>http://blog.kevindarlington.com/2010/02/26/speeding-up-the-sanguino-reset-time/</link>
      <pubDate>Fri, 26 Feb 2010 01:27:56 +0000</pubDate>
      
      <guid>http://blog.kevindarlington.com/2010/02/26/speeding-up-the-sanguino-reset-time/</guid>
      <description>

&lt;p&gt;I decided to use a &lt;a href=&#34;http://sanguino.cc/&#34;&gt;Sanguino&lt;/a&gt; for my next project and I noticed that every time I reset it with the pushbutton, it would take around 10 seconds to start the program. I thought this was absurd since the regular Arduino doesn&amp;rsquo;t take that long. I decided to dive into the bootloader firmware and find out the problem. The Sanguino version I&amp;rsquo;m dealing with is v1.4 r1.&lt;/p&gt;

&lt;p&gt;After looking at the code, I could see that it would wait for &amp;ldquo;MAX_TIME_COUNT&amp;rdquo; iterations for a response on UART. Looking at the Makefile, it was set to 8000000&amp;gt;&amp;gt;1 which is the equivalent of 4000000. So the getch() function would keep incrementing a counter and checking for a response on UART, and finally timeout when the count exceeded 4000000. Obviously, this was taking too long for my tastes.&lt;/p&gt;

&lt;h4 id=&#34;changes:0c34f6de3ee3d07b958c07290019806f&#34;&gt;Changes&lt;/h4&gt;

&lt;p&gt;In the Makefile contained in hardware/sanguino/bootloaders/atmega644p, make the following changes:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Change line 21 to point to an avr-gcc that is of version 3.x.x (not needed for OSX)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;On line 33, change &amp;ldquo;8000000&amp;gt;&amp;gt;1&amp;rdquo; to &amp;ldquo;F_CPU&amp;gt;&amp;gt;4&amp;rdquo;. Use &amp;ldquo;F_CPU&amp;gt;&amp;gt;5&amp;rdquo; if you want 0.5 seconds faster.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;On line 43, change &amp;ldquo;avr-gcc&amp;rdquo; to &amp;ldquo;$(CC)&amp;rdquo;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I have to explain the #1 part. The Sanguino bootloader was made to compile with the 3.x.x series of the gcc compiler. The newest versions of WinAVR and avr-gcc for osx/linux, use gcc 4.x.x. The bootloader will not compile correctly with this version. Here are some instructions on getting the 3.x.x version of avr-gcc:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Windows: Download &lt;a href=&#34;http://sourceforge.net/projects/winavr/files/WinAVR/20060421/&#34;&gt;WinAVR-20060421&lt;/a&gt;. It contains avr-gcc 3.4.6&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;OSX: Type &amp;ldquo;avr-gcc-select 3&amp;rdquo; in a terminal. Be sure to change it back to &amp;ldquo;avr-gcc-select 4&amp;rdquo; when you&amp;rsquo;re done compiling.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Linux: Download&lt;a href=&#34;http://ftp.gnu.org/gnu/gcc/gcc-3.4.6/gcc-3.4.6.tar.gz&#34;&gt; gcc-3.4.6&lt;/a&gt; and apply this &lt;a href=&#34;http://www.freebsd.org/cgi/cvsweb.cgi/~checkout~/ports/devel/avr-gcc/files/patch-  newdevices?rev=1.12;content-type=text/plain&#34;&gt;patch&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I only tested this on Windows, so I cannot say if the OSX and Linux solutions will work.&lt;/p&gt;

&lt;p&gt;I also changed the ATmegaBOOT.c code to not blink the LED 3 times but to blink it once. I saved some precious milliseconds. You can do this be setting NUM_LED_FLASHES on line 77 to 1.&lt;/p&gt;

&lt;h4 id=&#34;compiling-and-uploading:0c34f6de3ee3d07b958c07290019806f&#34;&gt;Compiling and uploading&lt;/h4&gt;

&lt;p&gt;Just run &amp;ldquo;make&amp;rdquo; in the atmega644p folder to build the hex file. If your hex file ends up being over 6KB, then you&amp;rsquo;re still using gcc 4.x.x and not 3.x.x.&lt;/p&gt;

&lt;p&gt;To upload the bootloader, I used the Arduino IDE and went to Tools &amp;gt; Burn Bootloader &amp;gt; USBtinyISP. Select whatever programmer you have. Make sure you have &amp;ldquo;Sanguino&amp;rdquo; as the selected board in Tools &amp;gt; Board.&lt;/p&gt;

&lt;h4 id=&#34;speed-comparison:0c34f6de3ee3d07b958c07290019806f&#34;&gt;Speed comparison&lt;/h4&gt;

&lt;p&gt;Before: ~10.5 seconds reset time&lt;/p&gt;

&lt;p&gt;With F_CPU&amp;gt;&amp;gt;4: ~2.5 seconds reset time&lt;/p&gt;

&lt;p&gt;With F_CPU&amp;gt;&amp;gt;5: ~2 seconds reset time&lt;/p&gt;

&lt;h4 id=&#34;conclusion:0c34f6de3ee3d07b958c07290019806f&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;I&amp;rsquo;m unsure why the delay is so long in the Makefile. Currently, I see no ill effects from making this change. Be sure not to make the delay too low because then you won&amp;rsquo;t be able to serially program the device.&lt;/p&gt;

&lt;h4 id=&#34;files:0c34f6de3ee3d07b958c07290019806f&#34;&gt;Files&lt;/h4&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/Makefile&#34;&gt;Makefile&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/ATmegaBOOT.c&#34;&gt;ATmegaBOOT.c&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Valentine&#39;s Day 8x8 RGB LED</title>
      <link>http://blog.kevindarlington.com/2010/02/17/valentines-day-8x8-rgb-led/</link>
      <pubDate>Wed, 17 Feb 2010 14:57:52 +0000</pubDate>
      
      <guid>http://blog.kevindarlington.com/2010/02/17/valentines-day-8x8-rgb-led/</guid>
      <description>

&lt;p&gt;I decided this year to make a 8x8 RGB LED device to give to my girlfriend for Valentine&amp;rsquo;s Day. I had made her a heart of red LEDs two years ago and I decided to step it up a little. No, this was not a cheap solution (it cost around $100 in materials, including all the stuff I bought that I ended up not using). I spent more time on this thing than anything I have made before.&lt;/p&gt;

&lt;p&gt;I knew what I wanted to make, but wasn&amp;rsquo;t sure what I was going to do to make it. Initially I was thinking I would buy the 8x8 RGB LED from &lt;a href=&#34;http://www.seeedstudio.com/depot/60mm-square-88-led-matrix-super-bright-rgb-p-113.html?cPath=32_20&#34;&gt;Seeedstudio&lt;/a&gt; and then build my own LED driver board to run it. After some research, it seemed that this would take a much longer time than I had to complete this. Some extensive google searching yielded the &lt;a href=&#34;https://shop.spitzenpfeil.org/index.php?main_page=product_info&amp;amp;cPath=3_9&amp;amp;products_id=11&#34;&gt;64-pixel RGB LED matrix kit&lt;/a&gt; from the &lt;a href=&#34;http://blog.spitzenpfeil.org/wordpress/&#34;&gt;2uF blog&lt;/a&gt;. The creator of the kit was very prompt in sending me the device and it wasn&amp;rsquo;t long before I soldered everything together and had it running.&lt;/p&gt;

&lt;p&gt;I spent several weeks slowly programming the animations into the device. I sort of knew what I was doing but I had never done any animations before. The most difficult part was optimizing parts of the code to prevent flickering. Also, I ran into RAM limit problems since the kit is based on the atmega168 and not the atmega328p.&lt;/p&gt;

&lt;p&gt;After I had programmed the basic animations, now comes the task on how to power this thing. I could either go the cheap/easy way of just getting a wall adapter and hooking it up to the device, or I could make it cooler by making it battery powered and portable.&lt;/p&gt;

&lt;p&gt;The&lt;a href=&#34;http://www.ladyada.net/images/mintyboost/mintyboostv2sch.png&#34;&gt; circuit&lt;/a&gt; I chose to use was the one based on the &lt;a href=&#34;http://www.ladyada.net/make/mintyboost/index.html&#34;&gt;Minty Boost&lt;/a&gt; from &lt;a href=&#34;http://www.adafruit.com/&#34;&gt;adafruit&lt;/a&gt;. There are plenty of circuits out there involving the &lt;a href=&#34;http://www.linear.com/pc/productDetail.jsp?navId=H0,C1,C1003,C1042,C1031,C1060,P1029&#34;&gt;LT1302&lt;/a&gt; that I could use, but I figured if it&amp;rsquo;s good enough to be charging iphones, ipods, etc.. it&amp;rsquo;d be good enough to run my device. The only thing I cut out of that design were the 100K charging resistors. I also used a 22uH inductor as recommended by the &lt;a href=&#34;http://www.ladyada.net/make/mintyboost/process.html&#34;&gt;design process&lt;/a&gt;.&lt;/p&gt;












&lt;figure &gt;
    &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0015.jpg&#34; data-size=&#34;1024x575&#34; title=&#34;Back of device&#34;&gt;
        &lt;img src=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0015.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Back of device&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;Originally I was going to make the step-up converter be on a board that covered the whole back of the device, then put the batteries on the board with it, but then I would have to add extra buttons as it would cover the buttons already on the board. The decision to put the batteries on the side came about because they would not fit on the back properly. It just looked weird. What I did here had a nice side-effect of giving it handles to hold on like a hand-held game.&lt;/p&gt;












&lt;figure &gt;
    &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0020.jpg&#34; data-size=&#34;1024x575&#34; title=&#34;Step-up converter board&#34;&gt;
        &lt;img src=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0020.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Step-up converter board&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;I had to use some hot glue on the headers and the switch to keep them from moving.&lt;/p&gt;

&lt;p&gt;










&lt;figure &gt;
    &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0019.jpg&#34; data-size=&#34;1024x575&#34; title=&#34;Bottom of step-up converter&#34;&gt;
        &lt;img src=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0019.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Bottom of step-up converter&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;

&lt;/p&gt;

&lt;p&gt;Was it worth it? It sure was. My girl appreciates this a lot more than if I were to buy her jewelry (she has enough of it anyway).&lt;/p&gt;

&lt;p&gt;










&lt;figure &gt;
    &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0021.jpg&#34; data-size=&#34;1024x575&#34; title=&#34;Red heart&#34;&gt;
        &lt;img src=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/IMG_0021.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Red heart&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;

&lt;/p&gt;

&lt;h4 id=&#34;source-code:fe3f34e8fc0801f493ba39584a7594d0&#34;&gt;Source code&lt;/h4&gt;

&lt;p&gt;The code is a bit of a mess and uncommented for the most part.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/02/outroot_gf8x8.pde&#34;&gt;outroot_gf8x8.pde&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Airwick motion sensor PIR with an arduino</title>
      <link>http://blog.kevindarlington.com/2010/01/10/airwick-motion-sensor-pir-with-an-arduino/</link>
      <pubDate>Sun, 10 Jan 2010 20:15:59 +0000</pubDate>
      
      <guid>http://blog.kevindarlington.com/2010/01/10/airwick-motion-sensor-pir-with-an-arduino/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;ve obtained two Airwick Freshmatics from a yard sale for $2. These were used in my house for a while, but it quickly became annoying to be sprayed in the face every time.  So I decided to hook it up to my arduino for no reason whatsoever.&lt;/p&gt;

&lt;p&gt;This model seems to be an older one as I cannot find it on the internet. I&amp;rsquo;m unsure what the newer models have, but I&amp;rsquo;m pretty certain they wouldn&amp;rsquo;t need to change the design. This model actuates a motor which uses gears to press down on the nozzle of the aroma can.&lt;/p&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm5.static.flickr.com/4049/4264353274_2012434a9c_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Airwick Freshmatic&#34;&gt;
        &lt;img src=&#34;http://farm5.static.flickr.com/4049/4264353274_2012434a9c_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Airwick Freshmatic&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;It only takes 4 philips head screws to get the backplate of it off. You&amp;rsquo;ll immediately see the motor there.&lt;/p&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm5.static.flickr.com/4031/4264353390_0df46bcd9d_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Inside the Airwick Freshmatic&#34;&gt;
        &lt;img src=&#34;http://farm5.static.flickr.com/4031/4264353390_0df46bcd9d_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Inside the Airwick Freshmatic&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;It takes just one more screw to pop the rest of it out.&lt;/p&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm3.static.flickr.com/2517/4264353508_a39311ffc0_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Inside Airwick Freshmatic&#34;&gt;
        &lt;img src=&#34;http://farm3.static.flickr.com/2517/4264353508_a39311ffc0_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Inside Airwick Freshmatic&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;Determining the functionality of the different connector pins was easy by just using a volt meter and tracing the conductive lines by eye. Here is a table of what each pin does. If you look at the picture below, pin #1 is the pin to the far left.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;VCC (3.3V-4V)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;GND&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;LED GND&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;GND&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;PIR out&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;switch 9 minutes (connects it to GND)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;switch 18 minutes (connects it to GND)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;switch 36 minutes (connects it to GND)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;switch off (connects it to GND)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm3.static.flickr.com/2733/4264353114_1a1d5aa212_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Airwick PIR sensor board&#34;&gt;
        &lt;img src=&#34;http://farm3.static.flickr.com/2733/4264353114_1a1d5aa212_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Airwick PIR sensor board&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;In the above picture the sensor wire (green) became disconnected when I took the photo. It&amp;rsquo;s suppose to be connected to pin 5.&lt;/p&gt;

&lt;p&gt;The above board will not run on 5V that the arduinos usually provide. The freshmatic model I had ran on 3-4V (3 AA 1.5V batteries). I hooked up the VCC to the 3.3V terminal in my &lt;a href=&#34;http://www.seeedstudio.com/depot/seeeduino-mega-fully-assembled-p-438.html?cPath=27&#34;&gt;seeeduino mega&lt;/a&gt;. Also, the LED is driven by attaching GND to pin 3, not VCC.&lt;/p&gt;

&lt;h4 id=&#34;code:bc9404d05dce6af0772b19e755f8609b&#34;&gt;Code&lt;/h4&gt;

&lt;p&gt;I modified the code for &lt;a href=&#34;http://www.arduino.cc/playground/Code/PIRsense&#34;&gt;PIRsense&lt;/a&gt; in the arduino mega.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2010/01/sketch_airwick_pir.pde&#34;&gt;Here&lt;/a&gt; it is.&lt;/p&gt;

&lt;h4 id=&#34;video:bc9404d05dce6af0772b19e755f8609b&#34;&gt;Video&lt;/h4&gt;

&lt;p&gt;[embed]&lt;a href=&#34;http://www.youtube.com/watch?v=oFv5nxFKczU[/embed&#34;&gt;http://www.youtube.com/watch?v=oFv5nxFKczU[/embed&lt;/a&gt;]&lt;/p&gt;

&lt;h4 id=&#34;conclusion:bc9404d05dce6af0772b19e755f8609b&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;It&amp;rsquo;s not the best motion sensor in the world, but it could be used to do a lot of things. Next Halloween, I&amp;rsquo;ll probably use it to shoot silly string at unsuspecting kids. It&amp;rsquo;s about the same price to buy one of these motion aroma devices than it is to buy the PIR sensor itself. Plus, you get a nice case that you can stuff electronics into, a motor, and a gear system.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Boduino - projector blackout device (v1)</title>
      <link>http://blog.kevindarlington.com/2009/12/12/boduino-projector-blackout-device-v1/</link>
      <pubDate>Sat, 12 Dec 2009 14:35:36 +0000</pubDate>
      
      <guid>http://blog.kevindarlington.com/2009/12/12/boduino-projector-blackout-device-v1/</guid>
      <description>

&lt;p&gt;At church, we have a projector device that is hooked up to the computer that allows us to show words to a song or a video. The problem is the VGA to composite converter we have does not have a button to black out the projector. So, when I go to get a video ready to be shown, the whole congregation sees what I&amp;rsquo;m doing.&lt;/p&gt;

&lt;p&gt;My solution was to take an arduino and build a device that would sit in the middle of the converter and projector, and allow me to black out the projector with a push button. There are several other solutions to this problem, but this seemed like the most fun. The project was named Boduino because it is a BlackOut arDUINO.&lt;/p&gt;

&lt;h4 id=&#34;parts:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Parts&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;1x 5v SPDT 1A reed relay. I got mine from futurlec; &lt;a href=&#34;http://futurlec.com/Relays/JRC-23F-05pr.shtml&#34;&gt;JRC-23F-05&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x momentary push button. Something like&lt;a href=&#34;http://www.futurlec.com/Switches/PLBLUE.shtml&#34;&gt; this&lt;/a&gt; should work.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x &lt;a href=&#34;http://moderndevice.com/RBBB_revB&#34;&gt;RBBB Arduino&lt;/a&gt; from Modern Device Company&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x 10k ohm resistor&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x 1k ohm resistor&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x 330 ohm resistor&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x 1N914 diode. Really most diodes would work for this.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x common cathode RGB LED or 1x green and 1x blue LED&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;2x &lt;a href=&#34;http://www.futurlec.com/RCA-Chassis.shtml&#34;&gt;gold plated panel mount RCA jacks&lt;/a&gt;. I actually used one RCA jack and a cut RCA cable.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x male to male RCA cable&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x &lt;a href=&#34;http://www.radioshack.com/product/index.jsp?productId=2062280&#34;&gt;4x2x1 project box&lt;/a&gt; from RadioShack&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x &lt;a href=&#34;http://www.radioshack.com/product/index.jsp?productId=2104052&#34;&gt;Dual mini board with 213 holes &lt;/a&gt;from RadioShack&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;1x 400mA 5v/9v DC adapter&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Optional:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.seeedstudio.com/depot/1-pin-dualfemale-jumper-wire-100mm-50pcs-pack-p-260.html?cPath=34&#34;&gt;dual-female jumper wires&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;panel mount DC jack&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It should be noted that you do not have to match these parts exactly. Everything can be changed except for the resistor values. Try to get as many parts as you can from one distributer. Pay close attention to the actual size of the parts, because you could end up buying something that won&amp;rsquo;t fit (like the first push button I bought).&lt;/p&gt;

&lt;h4 id=&#34;schematic:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Schematic&lt;/h4&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm5.static.flickr.com/4003/4176007878_49c58383e3_b.jpg&#34; data-size=&#34;1024x809&#34; title=&#34;Boduino schematic&#34;&gt;
        &lt;img src=&#34;http://farm5.static.flickr.com/4003/4176007878_49c58383e3_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Boduino schematic&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;You can download the PDF of the schematic here: &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2009/12/boduino-schematic.pdf&#34;&gt;boduino-schematic&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can ignore the atmega328p chip on the right and just hook up your arduino to the pins I specified. Unless you know what you&amp;rsquo;re doing, then you can do what you want.&lt;/p&gt;

&lt;h4 id=&#34;assembly:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Assembly&lt;/h4&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm5.static.flickr.com/4044/4176012856_78446eddda_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Inside boduino&#34;&gt;
        &lt;img src=&#34;http://farm5.static.flickr.com/4044/4176012856_78446eddda_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Inside boduino&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;First, I recommend that you put the components together on a breadboard and test it out on your TV. If you bought the same relay I did, then you will not be able to hook it up to the breadboard directly. You can either use small gauge wire and wrap it around the terminals of the relay, or you can do your testing in stages. By testing in stages, I mean just hook the TV up to the arduino without the relay and make sure that your TV is blacked out (hopefully, your TV will indicate to you if there is no signal by a message or a blue screen). Then hook up an LED in place of the relay and make sure that pressing the push button switches the LED on and off.&lt;/p&gt;

&lt;p&gt;The hardest part of this project was soldering to the PCB board.&lt;/p&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm3.static.flickr.com/2582/4175252685_f882f70ffe_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Boduino PCB&#34;&gt;
        &lt;img src=&#34;http://farm3.static.flickr.com/2582/4175252685_f882f70ffe_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Boduino PCB&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;I hooked up all the VCC and GND terminals together in one big soldering glob. At one point I no longer felt like adding to the glob so I decided to just solder one wire, and then connect all other wires that needed VCC or GND to that particular wire.&lt;/p&gt;

&lt;p&gt;Think about how you&amp;rsquo;re going to place your components. Try to make it as compact as possible, because space is scarce.&lt;/p&gt;

&lt;p&gt;**Note: **If you get the same relay as me, be cautious about how that relay is designed. The VCC and GND terminals are not where you think they would be. These terminals are actually in the middle of the relay. &lt;a href=&#34;http://futurlec.com/Datasheet/Relays/JRC-23F.pdf&#34;&gt;Here&lt;/a&gt; is the datasheet for the relay I used. If you are still unsure, use a resistance meter. If it shows close to 0 ohms then that is a switch contact. If it shows 100+ ohms, then that is VCC and GND.&lt;/p&gt;

&lt;p&gt;I decided not to attach the headers in the recommended way to my RBBB arduino. I attached them on the opposite side so I could connect components using the female-female jumper wires. This was also necessary to make it fit into the project box.&lt;/p&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm5.static.flickr.com/4008/4176012924_105387e402_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;RBBB Arduino&#34;&gt;
        &lt;img src=&#34;http://farm5.static.flickr.com/4008/4176012924_105387e402_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;RBBB Arduino&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;I didn&amp;rsquo;t want to solder too many things because I figured I would have to change some things after I tested it.&lt;/p&gt;

&lt;p&gt;Now, the second hardest thing was drilling and modifying the project box to get the components to fit. The button I used made fitting components a little difficult. I would suggest using the smallest button that you feel comfortable with. I wanted a good sized button so it would be easy to hit if in a panic.&lt;/p&gt;

&lt;p&gt;On the ceiling of the project box, there are screw hole mounts used to screw in a PCB. One of these prevented the RBBB from going far enough down to close the bottom of the box.&lt;/p&gt;








&lt;figure &gt;
    &lt;a href=&#34;http://farm3.static.flickr.com/2521/4175252837_dcf45e95ab_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Inside boduino&#34;&gt;
        &lt;img src=&#34;http://farm3.static.flickr.com/2521/4175252837_dcf45e95ab_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Inside boduino&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;



&lt;p&gt;In the picture above, you can see that screw mount hole just to the left of the main screw hole (bottom right of project box). I used a dremel tool to flatten the one on the top left out. You&amp;rsquo;ll also notice that there is a connection from the main box to the main screw hole. This little piece of plastic was preventing me from inserting the RBBB perfectly. I also used the dremel to take this out on the top left.&lt;/p&gt;

&lt;p&gt;Attaching the RGB LED was pretty easy. I first thought that I would have to glue it into the box or have it poking out far. Instead, I drilled a hole slightly smaller than the LED itself, and then I forced it in there. That LED will not come out unless someone hammers it.&lt;/p&gt;

&lt;p&gt;Instead of using a panel mount DC jack, I opted to just drill a hole and attach the DC power permanently. I happened to get a cell phone charger from my brother that worked for this purpose.&lt;/p&gt;

&lt;p&gt;Finally, I used cable tie wraps to prevent the wires from being pulled on.&lt;/p&gt;

&lt;h4 id=&#34;code:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Code&lt;/h4&gt;

&lt;p&gt;Get it here: &lt;a href=&#34;http://blog.kevindarlington.com/downloads/wp-content/uploads/2009/12/sketch_boduino.pde&#34;&gt;sketch_boduino.pde&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is important to note that this code outputs a PAL signal. This seemed to work on all my TVs and the projector. I couldn&amp;rsquo;t for the life of me get any NTSC code to work. I&amp;rsquo;ve downloaded about 5 people&amp;rsquo;s code and even tried to do it myself following the specification. All I got was a blue screen (no signal).&lt;/p&gt;

&lt;h4 id=&#34;conclusion:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;I know the information here isn&amp;rsquo;t well thought out or presented. I did not plan on publishing this device when I was making it, so I took pictures after it was all together. But, you should get an idea of how everything works and how it was put together. I&amp;rsquo;ll be happy to answer any questions that anyone would have.&lt;/p&gt;

&lt;h4 id=&#34;known-bugs:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Known bugs&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;If you hook boduino up to a TV, you can see the vertical refresh line. I didn&amp;rsquo;t care to fix this because it is absolutely invisible on the projector. Any thoughts would be appreciated.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;On the projector, there is a bright green line visible at the top. This is strange to me because I do not see this on any of my TVs. Luckily, in my situation, the green line is outputting on a black background, so you can&amp;rsquo;t really see it. I have a suspicion that if I get NTSC working, then this problem would go away.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Sometimes when you switch to blackout, the projector will start to search as if it lost a signal. This is very rare and when it happens it quickly goes back to being blacked out. I don&amp;rsquo;t think the projector likes interrupting an NTSC signal with a PAL one. Luckily the projector was designed well enough not to complain most of the time.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;notes:b64f2c142a9badebbb2bab01f34518de&#34;&gt;Notes&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I used 1 RCA jack and a cut RCA cable. I suggest you use 2 RCA jacks and just use a male-to-male RCA cable. That way you can support any kind of female/male input/output RCA. In my design, the female RCA is the output and the male RCA is input (yes, that is backwards from the norm).&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Use shrink wrap everywhere. Everything is packed in tight and wires may touch each other.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;It would be cool if boduino could support both PAL and NTSC signals. I might have to look at the &lt;a href=&#34;http://www.batsocks.co.uk/products/Other/TellyMate.htm&#34;&gt;tellymate&lt;/a&gt; code to achieve this.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;






&lt;figure &gt;
    &lt;a href=&#34;http://farm3.static.flickr.com/2573/4175252487_cb9400ee88_b.jpg&#34; data-size=&#34;1024x768&#34; title=&#34;Boduino in blackout mode&#34;&gt;
        &lt;img src=&#34;http://farm3.static.flickr.com/2573/4175252487_cb9400ee88_b.jpg&#34; /&gt;
    &lt;/a&gt;
    
    &lt;figcaption&gt;
        &lt;h4&gt;Boduino in blackout mode&lt;/h4&gt;
        
    &lt;/figcaption&gt;
    
&lt;/figure&gt;

&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>